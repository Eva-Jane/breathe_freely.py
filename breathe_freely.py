import streamlit as st
import random
import pandas as pd
from datetime import date

# –ù–∞–∑–≤–∞–Ω–∏—è –∏ —Ü–≤–µ—Ç–∞
app_title = "üî• –°–º–µ–ª–æ–µ —Ä–µ—à–µ–Ω–∏–µ!"
counter_title = "üí™ –û—Ç–≤–∞–≥–∞ –≤ –î–Ω—è—Ö"
main_color = "#2E8B57"
accent_color = "#4682B4"

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–∏—Ç–∞—Ç
motivations = [
    "¬´–°–º–µ–ª–æ—Å—Ç—å ‚Äî –Ω–∞—á–∞–ª–æ –≤—Å—è–∫–æ–≥–æ –¥–µ–ª–∞.¬ª ‚Äî –£–∏–ª—å—è–º –®–µ–∫—Å–ø–∏—Ä",
    "¬´–¢—ã —Ö—Ä–∞–±—Ä–µ–µ, —á–µ–º —Ç—ã –¥—É–º–∞–µ—à—å, —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –∫–∞–∂–µ—à—å—Å—è, –∏ —É–º–Ω–µ–µ, —á–µ–º —Ç—ã –¥—É–º–∞–µ—à—å.¬ª ‚Äî –ö—Ä–∏—Å—Ç–æ—Ñ–µ—Ä –†–æ–±–∏–Ω",
    "¬´–ñ–∏–∑–Ω—å ‚Äî —ç—Ç–æ –ª–∏–±–æ —Å–º–µ–ª–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ, –ª–∏–±–æ –Ω–∏—á–µ–≥–æ.¬ª ‚Äî –•–µ–ª–µ–Ω –ö–µ–ª–ª–µ—Ä",
    "¬´–°–º–µ–ª–æ—Å—Ç—å ‚Äî –Ω–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–∞—Ö–∞, –∞ –ø–æ–±–µ–¥–∞ –Ω–∞–¥ –Ω–∏–º.¬ª ‚Äî –ù–µ–ª—å—Å–æ–Ω –ú–∞–Ω–¥–µ–ª–∞",
    "¬´–ë—É–¥—å —Ç–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—á–µ—à—å –≤–∏–¥–µ—Ç—å –≤ –º–∏—Ä–µ.¬ª ‚Äî –ú–∞—Ö–∞—Ç–º–∞ –ì–∞–Ω–¥–∏",
    "¬´–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –∂–µ–ª–∞–Ω–∏–µ —Ç–≤–æ—Ä–∏—Ç—å, –∏ –æ–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫ —Å–º–µ–ª—ã–º.¬ª ‚Äî –§—Ä–∏–¥—Ä–∏—Ö –ù–∏—Ü—à–µ",
    "¬´–¢–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—è—è —Å–µ–±—è, –º–µ–Ω—è–µ—Ç—Å—è –º–∏—Ä –≤–æ–∫—Ä—É–≥.¬ª ‚Äî –õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π",
    "¬´–¢–æ–ª—å–∫–æ —Ç–µ, –∫—Ç–æ —Ä–∏—Å–∫—É–µ—Ç –∑–∞–π—Ç–∏ —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ, –º–æ–≥—É—Ç —É–∑–Ω–∞—Ç—å, –∫–∞–∫ –¥–∞–ª–µ–∫–æ –º–æ–∂–Ω–æ –∑–∞–π—Ç–∏.¬ª ‚Äî –¢–æ–º–∞—Å –°—Ç–µ—Ä–Ω–∑ –≠–ª–∏–æ—Ç",
    "¬´–°–º–µ–ª–æ—Å—Ç—å ‚Äî —Å–∏–ª–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–≤–∏–∂–µ—Ç –º–∏—Ä–æ–º.¬ª ‚Äî –ö–∞—Ä–ª –Æ–Ω–≥",
    "¬´–ü–æ–±–µ–¥–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å–∞–º–æ–º—É —É–ø–æ—Ä–Ω–æ–º—É.¬ª ‚Äî –ù–∞–ø–æ–ª–µ–æ–Ω –ë–æ–Ω–∞–ø–∞—Ä—Ç",
    "¬´–ò—Å—Ç–∏–Ω–Ω–∞—è —Å–º–µ–ª–æ—Å—Ç—å ‚Äî —ç—Ç–æ –∏–¥—Ç–∏ –∫ —Ü–µ–ª–∏ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å—Ç—Ä–∞—Ö.¬ª ‚Äî –ú–∞—Ö–∞—Ç–º–∞ –ì–∞–Ω–¥–∏",
    "¬´–°–∞–º–æ–µ –ª—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏—è ‚Äî —Å–µ–π—á–∞—Å.¬ª ‚Äî –ú–∞—Ä–∫ –¢–≤–µ–Ω",
    "¬´–¢—ã –Ω–µ –ø—Ä–æ–∏–≥—Ä–∞–ª, –ø–æ–∫–∞ –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞–ª –ø—ã—Ç–∞—Ç—å—Å—è.¬ª ‚Äî –ê–ª—å–±–µ—Ä—Ç –≠–π–Ω—à—Ç–µ–π–Ω",
    "¬´–°–º–µ–ª–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ö—É, –∞ –Ω–µ –µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ.¬ª ‚Äî –ú–∞—Ä–∫ –¢–≤–µ–Ω",
    "¬´–¢–≤–æ—è –∂–∏–∑–Ω—å –º–µ–Ω—è–µ—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è.¬ª ‚Äî –ê–Ω—Ç–æ–Ω–∏ –†–æ–±–±–∏–Ω—Å",
    "¬´–°–º–µ–ª–æ—Å—Ç—å –≤ –ø–æ—Å—Ç—É–ø–∫–∞—Ö ‚Äî –ø—É—Ç—å –∫ –≤–µ–ª–∏–∫–æ–º—É.¬ª ‚Äî –ö–æ–Ω—Ñ—É—Ü–∏–π",
    "¬´–ü—Ä–µ–æ–¥–æ–ª–µ–≤–∞—è —Å—Ç—Ä–∞—Ö, –º—ã –æ–±—Ä–µ—Ç–∞–µ–º —Å–≤–æ–±–æ–¥—É.¬ª ‚Äî –°–µ–Ω–µ–∫–∞",
    "¬´–í –∫–∞–∂–¥–æ–º –∫–æ–Ω—Ü–µ –µ—Å—Ç—å –Ω–æ–≤–æ–µ –Ω–∞—á–∞–ª–æ.¬ª ‚Äî –î–∂–æ–Ω –õ–µ–Ω–Ω–æ–Ω",
]

# HTML —Å—Ç–∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
st.markdown(f"<h1 style='text-align: center; color: {main_color};'>{app_title}</h1>", unsafe_allow_html=True)
st.markdown(f"<h2 style='text-align: center; color: {accent_color};'>{counter_title}</h2>", unsafe_allow_html=True)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–¥–Ω–∏ –∏ –¥–∞—Ç—ã)
if 'day_count' not in st.session_state:
    st.session_state.day_count = 0
if 'progress' not in st.session_state:
    st.session_state.progress = pd.DataFrame(columns=['–î–∞—Ç–∞', '–î–Ω–∏ —Å–º–µ–ª–æ—Å—Ç–∏'])

# –ö–Ω–æ–ø–∫–∞ –æ—Ç–º–µ—Ç–∫–∏ –¥–Ω—è —Å–º–µ–ª–æ—Å—Ç–∏
if st.button("üí• –û—Ç–º–µ—Ç–∏—Ç—å –¥–µ–Ω—å —Å–º–µ–ª–æ—Å—Ç–∏"):
    choice = st.radio(
        "–ö–∞–∫ –ø—Ä–æ—à–µ–ª —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å?",
        ("–°–µ–≥–æ–¥–Ω—è –±–µ–∑ —Å–∏–≥–∞—Ä–µ—Ç", "–°–µ–≥–æ–¥–Ω—è –±—ã–ª —Å–ª–æ–∂–Ω—ã–π –¥–µ–Ω—å, –Ω–æ —è –≤—Å–µ —Ä–∞–≤–Ω–æ —Å–º–µ–ª—ã–π")
    )
    if choice:
        st.session_state.day_count += 1
        today = date.today().strftime("%Y-%m-%d")
        new_row = pd.DataFrame({'–î–∞—Ç–∞': [today], '–î–Ω–∏ —Å–º–µ–ª–æ—Å—Ç–∏': [st.session_state.day_count]})
        st.session_state.progress = pd.concat([st.session_state.progress, new_row], ignore_index=True)
        st.success(random.choice(motivations))

# –ü–æ–∫–∞–∑ —Å—á–µ—Ç—á–∏–∫–∞
st.markdown(f"<p style='font-size: 24px; text-align: center; color: #555;'>{st.session_state.day_count} {counter_title.lower()}</p>", unsafe_allow_html=True)

# –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
if not st.session_state.progress.empty:
    st.line_chart(data=st.session_state.progress.set_index('–î–∞—Ç–∞')['–î–Ω–∏ —Å–º–µ–ª–æ—Å—Ç–∏'], use_container_width=True)

# –ö–Ω–æ–ø–∫–∞ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –º–æ—Ç–∏–≤–∞—Ü–∏–∏
if st.button("üåü –ü–æ–ª—É—á–∏—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏—é"):
    st.info(random.choice(motivations))
